<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    
    <!-- Firebase App (core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <!-- Firebase Database -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body>
    <div class="container">
        <h1>Rock Paper Scissors</h1>
        
        <div class="game-modes">
            <button class="mode-btn active" onclick="showScreen('single-player')">Single Player</button>
            <button class="mode-btn" onclick="showScreen('multiplayer')">Multiplayer</button>
        </div>
        
        <!-- Single Player Screen -->
        <div id="single-player" class="game-screen active-screen">
            <h2>Play Against Computer</h2>
           
            <div class="vs-container">
                <div class="player-choice" id="player-choice">?</div>
                <div class="vs-text">VS</div>
                <div class="opponent-choice" id="computer-choice">?</div>
            </div> 

            <div class="choices">
                <div class="choice" onclick="playGame('rock')">✊</div>
                <div class="choice" onclick="playGame('paper')">✋</div>
                <div class="choice" onclick="playGame('scissors')">✌️</div>
            </div>
            
            <div class="result" id="sp-result">Make your move!</div>
            
            <div class="scores">
                <div class="score">You: <span id="player-score">0</span></div>
                <div class="score">Computer: <span id="computer-score">0</span></div>
            </div>
            
            <div class="game-history">
                <h3>Game History</h3>
                <div id="sp-history"></div>
            </div>
        </div>
        
        <!-- Multiplayer Screen -->
        <div id="multiplayer" class="game-screen">
            <h2>Play With a Friend</h2>
            
            <div class="instructions">
                <p><strong>How to play:</strong></p>
                <p>1. One player creates a game and shares the code/link</p>
                <p>2. The other player joins with the code</p>
                <p>3. Once both players are connected, the game begins!</p>
            </div>
            
            <div class="multiplayer-setup">
                <div class="setup-options" id="setup-options">
                    <button onclick="createGame()">Create Game</button>
                    <button onclick="showJoinSection(true)">Join Game</button>
                </div>
                
                <div class="join-section" id="join-section">
                    <input type="text" id="game-code" placeholder="Enter game code">
                    <button onclick="joinGame()">Connect</button>
                </div>
            </div>
            
            <div id="multiplayer-game" style="display: none;">
                <div class="game-code-display" id="game-code-display" style="display: none;">
                    Game Code: <span id="code-display"></span>
                </div>
                
                <div class="share-section" id="share-section">
                    <p>Share this code with your friend:</p>
                    <input type="text" id="game-link" readonly>
                    <div class="share-options">
                        <button class="share-btn" onclick="copyLink()"><i class="fas fa-copy"></i> Copy</button>
                        <button class="share-btn" onclick="shareViaWhatsApp()"><i class="fab fa-whatsapp"></i> WhatsApp</button>
                    </div>
                </div>
                
                <div class="status-message waiting" id="mp-status">
                    <i class="fas fa-clock"></i> Waiting for friend to connect...
                </div>
                
                <div class="vs-container">
                    <div class="player-choice" id="mp-player-choice">?</div>
                    <div class="vs-text">VS</div>
                    <div class="opponent-choice" id="mp-opponent-choice">?</div>
                </div>
                
                <div class="choices" id="mp-choices" style="display: none;">
                    <div class="choice" onclick="playMultiplayer('rock')">✊</div>
                    <div class="choice" onclick="playMultiplayer('paper')">✋</div>
                    <div class="choice" onclick="playMultiplayer('scissors')">✌️</div>
                </div>
                
                <div class="result" id="mp-result">Share the code with a friend to start playing</div>
                
                <div class="scores">
                    <div class="score">You: <span id="player1-score">0</span></div>
                    <div class="score">Friend: <span id="player2-score">0</span></div>
                </div>
                
                <div class="game-history">
                    <h3>Game History</h3>
                    <div id="mp-history"></div>
                </div>
                
                <button onclick="leaveMultiplayerGame()" style="background: linear-gradient(135deg, #e74c3c, #c0392b); margin-top: 20px;">
                    <i class="fas fa-sign-out-alt"></i> Leave Game
                </button>
            </div>
        </div>
        
        <div class="footer">
            <p>Rock Paper Scissors | <a href="https://karojunior.netlify.app">Karo Junior</a></p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>